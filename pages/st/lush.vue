<!-- layout -->
<template>
  <div class="">

    <!-- ğŸ›£ -->
    <navigation/>

    <!-- ğŸ›Œ -->
    <div class="detail-cover-out"/>
    <div class="detail-cover-01"/>
    <div class="detail-cover-02"/>
    <div class="detail-cover-03"/>
    <div class="about-cover"/>

    <!-- ğŸ¤™ğŸ¼ -->
    <main class="">
      <div class="detail-main mw">
        <header class="detail-header">

          <figure class="detail-figure">
            <div class="eyebrow">
              <nuxt-link class="back-link f-space" to="/scott">Go Back</nuxt-link>
              <h3 class="f-mabry"><span class="op-2">ST </span>1</h3>
            </div>
            <img src="@/assets/img/st/01.jpg" alt="Lush">
          </figure>

          <article class="detail-details">
            <h4 class="genre op-4 f-space">Rap/Hip-Hop</h4>
            <h1 class="album f-mabry">Snail Mail</h1>
            <h3 class="artist f-space">Lush</h3>
          </article>
        </header>

        <section class="mini-player">
          <iframe src="https://open.spotify.com/embed/track/43E0f1S0rOGCo6YYRYHjHP" width="100%" height="80" frameborder="0" allowtransparency="true" allow="encrypted-media"></iframe>
        </section>

        <article class="detail-copy">
          <p>Sincerity is Lindsey Jordanâ€™s superpower. The moody guitar confessionals she creates as Snail Mail contend with suburban teenage ennuiâ€”the angst of feeling like youâ€™re the only person whoâ€™s truly alive in a dulled world. But unlike so many other disillusioned 18-year-olds with a Fender and a microphone, Jordan does not whine or wallow; she transcends. She articulates the self-conscious shame of youth with a startling clarity, but she also knows that these things too will pass. Her sorrowful pleasâ€”of disappointment, of confusion, of unrequited queer loveâ€”often turn into triumphs upon hitting open air. When she claims â€œIâ€™ll never love anyone elseâ€ on her debut album, Lush, she is not mopingâ€”she sounds psyched, turning the sad sentiment into a singalong, as a rush of bass, drums, and jangling chords raise her up high.</p>

          <p>Several of the most disarming moments on Lush come in the form of a question: â€œDo you love me?â€ â€œDonâ€™t you like me for me?â€ â€œWhoâ€™s your type of girl?â€ â€œWhat could ever be enough?â€ â€œDid things work out for you?â€ These are intimate appeals, the kind that often come with watery eyes and trembling chins. But when Jordan sings them, itâ€™s as if sheâ€™s staring directly at the person in question, commanding in her vulnerability. This attitude defines Lush, and Jordan turns it into a mantra on â€œFull Control.â€ The song finds her moving past the bullshit of another failed romance, done with waiting for someone to love her back. The strident verses coalesce into the albumâ€™s most cleansing hook: â€œIâ€™m in full control/Iâ€™m not lost,â€ she attests, her voice soaring. â€œEven when itâ€™s love/Even when itâ€™s not.â€ Lindsey Jordan does not have all the answers. But, in music and life, she knows what she wants, and sheâ€™s unafraid to ask for more.</p>

          <div class="byline mt-2 tar">
            <h4>
              <a href="https://pitchfork.com/reviews/albums/snail-mail-lush/" target="_blank">â€”Pitchfork</a>
            </h4>
          </div>
        </article>
      </div>
    </main>

  </div>
</template>


<!-- style -->
<style lang="scss">
  @import '@/assets/mq.scss';

  .detail-cover-01, .detail-cover-02, .detail-cover-03, .about-cover {
    position: fixed;
    top: 0; left: 0;
    z-index: var(--zmax);
    width: 100vw; height: 35vh;
    background: #0b0b0b;
    transform: scaleX(1);
    transform-origin: right;
    will-change: transform;
  }

  .detail-cover-02 { top: 33vh; }
  .detail-cover-03 { top: 66vh; height: 34vh; }

  .about-cover {
    // z-index: var(--z4);
    height: 100vh;
    background: #0b0b0b;
    transform: scaleX(1) translateY(-100vh);
    transition: all 800ms cubic-bezier(0.770, 0, 0.175, 1);
  }

  @keyframes coverOneIn {
    from { transform: scaleX(1); }
    to   { transform: scaleX(0); }
  }

  .about-cover-active { transform: translateY(0);}
  .detail-cover-01 { animation: coverOneIn 1000ms cubic-bezier(0.770, 0, 0.175, 1); animation-fill-mode: forwards; }
  .detail-cover-02 { animation: coverOneIn 1000ms cubic-bezier(0.770, 0, 0.175, 1); animation-fill-mode: forwards; animation-delay: 150ms; }
  .detail-cover-03 { animation: coverOneIn 1000ms cubic-bezier(0.770, 0, 0.175, 1); animation-fill-mode: forwards; animation-delay: 300ms; }

  .detail-cover-out {
    position: fixed;
    top: 0; left: 0;
    z-index: var(--zmax);
    width: 100vw; height: 100vh;
    background: #0b0b0b;
    transform: translateY(-99vh);
    transform-origin: top;
    transition: all 1000ms cubic-bezier(0.770, 0, 0.175, 1);
    will-change: transform;
  }

  .detail-cover-out-active { transform: translateY(0); }

  .detail-main {
    margin: 7.2rem auto 8rem auto;
    @include breakpoint(md) {
      margin: 17.6rem auto 9.6rem auto;
    }
  }

  .detail-figure, .eyebrow {
    margin-bottom: 1.6rem;
  }

  .genre {
    margin-bottom: 3.2rem;
  }

  .album {
    margin-bottom: 1rem;
    margin-left: -.4rem;
    @include breakpoint(md) { margin-bottom: .8rem; }
  }

  .artist {
    margin-top: -.4rem;
  }

  .figure-eyebrow { display: flex; }

  .figure-eyebrow-number { justify-self: end; }

  .detail-header {
    display: flex;
    flex-direction: column;
    @include breakpoint(md) { flex-direction: row; }
  }

  .detail-figure {
    @include breakpoint(md) {
      padding-right: 4rem;
      width: grid-width(6);
    }
  }

  .eyebrow {
    display: flex;
    justify-content: space-between;
  }

  .detail-details {
    display: flex;
    flex-direction: column;

    @include breakpoint(md) {
      width: grid-width(6);
      justify-content: center;
    }
  }

  .mini-player {
    margin: 6.4rem auto 4.8rem;
    @include breakpoint(md) { width: grid-width(9); }
    @include breakpoint(mdl) { width: grid-width(6); }
  }

  .detail-copy {
    @include breakpoint(md) {
      margin: 0 auto;
      width: grid-width(9);
    }
    @include breakpoint(mdl) { width: grid-width(6); }
  }

  p { text-align: justify; }
  p + p { text-indent: 2ch; }

</style>


<!-- logic -->
<script>
  import navigation from '@/components/navigation.vue';
  export default {
    transition: {
      name: 'detailFade',
      mode: 'out-in'
    },
    components: { navigation },
    mounted() {
      // about logic
      const navTrigger = document.querySelector('.nav-trigger')
      const aboutCover = document.querySelector('.about-cover')
      const backLink = document.querySelector('.back-link')

      navTrigger.addEventListener('click', () => {
        aboutCover.classList.add('about-cover-active')
      })

      const homeLink = document.querySelector('.home-link')
      const coverOut = document.querySelector('.detail-cover-out')

      homeLink.addEventListener('click', () => {
        coverOut.classList.add('detail-cover-out-active')
      })
      backLink.addEventListener('click', () => {
        coverOut.classList.add('detail-cover-out-active')
      })
    }
  }

</script>
